---
interface SkillGroup {
  title: string;
  description: string;
}

interface Props {
  listTitle?: string;
  skills: SkillGroup[];
}

const { listTitle, skills } = Astro.props;

const categoryColors = [
  { border: "border-blue-500",    bg: "bg-blue-500/10",    text: "text-blue-400",    hoverBg: "hover:bg-blue-500/25",    labelBg: "bg-blue-500/5"  },
  { border: "border-emerald-500", bg: "bg-emerald-500/10", text: "text-emerald-400", hoverBg: "hover:bg-emerald-500/25", labelBg: "bg-emerald-500/5" },
  { border: "border-amber-500",   bg: "bg-amber-500/10",   text: "text-amber-400",   hoverBg: "hover:bg-amber-500/25",   labelBg: "bg-amber-500/5" },
  { border: "border-purple-500",  bg: "bg-purple-500/10",  text: "text-purple-400",  hoverBg: "hover:bg-purple-500/25",  labelBg: "bg-purple-500/5" },
  { border: "border-rose-500",    bg: "bg-rose-500/10",    text: "text-rose-400",    hoverBg: "hover:bg-rose-500/25",    labelBg: "bg-rose-500/5"  },
  { border: "border-cyan-500",    bg: "bg-cyan-500/10",    text: "text-cyan-400",    hoverBg: "hover:bg-cyan-500/25",    labelBg: "bg-cyan-500/5"  },
  { border: "border-orange-500",  bg: "bg-orange-500/10",  text: "text-orange-400",  hoverBg: "hover:bg-orange-500/25",  labelBg: "bg-orange-500/5" },
];
---

<section>
  {listTitle && (
    <h2 class="text-2xl font-bold mb-6 border-b pb-2">{listTitle}</h2>
  )}
  <div class="flex flex-col gap-4">
    {skills.map((group, index) => {
      const color = categoryColors[index % categoryColors.length];
      return (
        <div class={`border-l-4 ${color.border} ${color.labelBg} rounded-r-lg px-4 py-3 transition-all duration-200`}>
          <span class={`text-sm font-bold uppercase tracking-wider ${color.text} mb-2 block`}>
            {group.title}
          </span>
          <div class="flex flex-wrap gap-2">
            {group.description.split(",").map((skill) => (
              <span class={`${color.bg} ${color.text} ${color.hoverBg} rounded-full px-3 py-1 text-xs font-semibold transition-all duration-200 cursor-default`}>
                {skill.trim()}
              </span>
            ))}
          </div>
        </div>
      );
    })}
  </div>
</section>
